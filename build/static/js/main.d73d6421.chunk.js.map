{"version":3,"sources":["components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithImage.js","utils/api.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","index.js"],"names":["Header","className","href","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","isLiked","likes","some","i","src","link","alt","onClick","name","type","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","avatar","about","map","key","Footer","PopupWithImage","onClose","Object","keys","api","baseUrl","headers","this","_baseUrl","_headers","res","ok","json","Promise","reject","status","fetch","then","_response","method","body","JSON","stringify","itemId","authorization","PopupWithForm","title","buttonText","isOpen","onSubmit","children","action","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","e","preventDefault","id","placeholder","required","minLength","maxLength","value","onChange","target","onUpdateAvatar","avatarRef","useRef","current","ref","AddPlacePopup","textRef","linkRef","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","setCards","setCurrentUser","closeAllPopups","all","getUserInfo","getItems","user","items","catch","err","console","log","Provider","toggleLike","newCard","newCards","c","deleteItem","filter","newUser","setUserInfo","EditAvatarPopup","setUserAvatar","place","setPlace","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d73d6421.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nfunction Header() {\r\n  return (\r\n    <header className=\"header\">\r\n      <a href=\"index.html\" className=\"header__logo\">Mesto</a>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\n\r\nconst CurrentUserContext = React.createContext({});\r\n\r\nexport default CurrentUserContext","import React, { useContext } from \"react\";\r\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Card({ card, onCardClick, onCardLike, onCardDelete }) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n  const isOwn = card.owner._id === currentUser._id;\r\n  const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n\r\n  return (\r\n    <article className=\"card\">\r\n      <img\r\n        className=\"card__image\"\r\n        src={card.link}\r\n        alt=\"#\"\r\n        onClick={() => onCardClick(card)}\r\n      />\r\n      <div className=\"card__container\">\r\n        <h2 className=\"card__title\">{card.name}</h2>\r\n        <div className=\"card__like-container\">\r\n          <button\r\n            type=\"button\"\r\n            className={`card__like ${isLiked && \"card__like_active\"}`}\r\n            onClick={() => onCardLike(card)}\r\n          />\r\n          <p className=\"card__like-count\">{card.likes.length}</p>\r\n        </div>\r\n      </div>\r\n      {isOwn && (\r\n        <button\r\n          type=\"button\"\r\n          className=\"card__remove\"\r\n          onClick={() => onCardDelete(card)}\r\n        />\r\n      )}\r\n    </article>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","import React, { useContext } from \"react\";\r\nimport Card from \"./Card\";\r\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Main({\r\n  onEditAvatar,\r\n  onEditProfile,\r\n  onAddPlace,\r\n  onCardClick,\r\n  onCardLike,\r\n  onCardDelete,\r\n  cards,\r\n}) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"main\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__container\">\r\n          <div className=\"profile__avatar-container\" onClick={onEditAvatar}>\r\n            <img\r\n              src={currentUser.avatar}\r\n              alt=\"Аватар\"\r\n              className=\"profile__avatar\"\r\n            />\r\n          </div>\r\n          <div className=\"profile__info\">\r\n            <div className=\"profile__info-container\">\r\n              <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n              <button\r\n                type=\"button\"\r\n                className=\"profile__edit\"\r\n                onClick={onEditProfile}\r\n              />\r\n            </div>\r\n            <p className=\"profile__about-me\">{currentUser.about}</p>\r\n          </div>\r\n        </div>\r\n        <button\r\n          type=\"button\"\r\n          className=\"profile__add-card\"\r\n          onClick={onAddPlace}\r\n        />\r\n      </section>\r\n      <section className=\"cards\">\r\n        {cards.map((card) => {\r\n          return (\r\n            <Card\r\n              key={card._id}\r\n              card={card}\r\n              onCardClick={onCardClick}\r\n              onCardLike={onCardLike}\r\n              onCardDelete={onCardDelete}\r\n            />\r\n          );\r\n        })}\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","import React from \"react\";\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__text\">&copy; 2020 Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import React from \"react\";\r\n\r\nfunction PopupWithImage({ card, onClose }) {\r\n  return (\r\n    <section\r\n      className={`popup popup_image ${\r\n        Object.keys(card).length !== 0 && \"popup_opened\"\r\n      }`}\r\n    >\r\n      <div className=\"popup__container\">\r\n        <button type=\"button\" className=\"popup__close\" onClick={onClose} />\r\n        <figure className=\"popup__figure\">\r\n          <img className=\"popup__image\" src={card.link} alt={card.name} />\r\n          <figcaption className=\"popup__caption\">{card.name}</figcaption>\r\n        </figure>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default PopupWithImage;\r\n","class Api {\r\n  constructor({ baseUrl, headers }) {\r\n    this._baseUrl = baseUrl;\r\n    this._headers = headers;\r\n  }\r\n\r\n  _response() {\r\n    return (res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n\r\n      return Promise.reject(`Ошибка: ${res.status}`);\r\n    };\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this._baseUrl}/users/me`, { headers: this._headers }).then(\r\n      this._response()\r\n    );\r\n  }\r\n\r\n  setUserInfo({ name, about }) {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name,\r\n        about,\r\n      }),\r\n    }).then(this._response());\r\n  }\r\n\r\n  setUserAvatar({ avatar }) {\r\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar,\r\n      }),\r\n    }).then(this._response());\r\n  }\r\n\r\n  getItems() {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      headers: this._headers,\r\n    }).then(this._response());\r\n  }\r\n\r\n  deleteItem(itemId) {\r\n    return fetch(`${this._baseUrl}/cards/${itemId}`, {\r\n      method: \"DELETE\",\r\n      headers: this._headers,\r\n    }).then(this._response());\r\n  }\r\n\r\n  setPlace({ name, link }) {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      method: \"POST\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name,\r\n        link,\r\n      }),\r\n    }).then(this._response());\r\n  }\r\n\r\n  toggleLike(itemId, isLiked) {\r\n    return fetch(`${this._baseUrl}/cards/likes/${itemId}`, {\r\n      method: isLiked ? \"DELETE\" : \"PUT\",\r\n      headers: this._headers,\r\n    }).then(this._response());\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  baseUrl: `https://mesto.nomoreparties.co/v1/cohort-14`,\r\n  headers: {\r\n    authorization: \"8916ab4b-9a09-4a8e-86cf-42a282e45a8c\",\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n});\r\n\r\nexport default api;\r\n","import React from \"react\";\r\n\r\nfunction PopupWithForm({\r\n  name,\r\n  title,\r\n  buttonText,\r\n  isOpen,\r\n  onClose,\r\n  onSubmit,\r\n  children,\r\n}) {\r\n  return (\r\n    <section className={`popup popup_${name} ${isOpen && \"popup_opened\"}`}>\r\n      <div className=\"popup__container\">\r\n        <button type=\"button\" className=\"popup__close\" onClick={onClose} />\r\n        <form\r\n          action=\"#\"\r\n          method=\"post\"\r\n          className=\"popup__form\"\r\n          name={name}\r\n          onSubmit={onSubmit}\r\n        >\r\n          <h2 className=\"popup__heading\">{title}</h2>\r\n          {children}\r\n          <button type=\"submit\" className=\"popup__button\">\r\n            {buttonText}\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React, { useContext, useState, useEffect } from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\r\n\r\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\r\n  const [name, setName] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  }\r\n  useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]);\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"profile\"\r\n      title=\"Редактировать профиль\"\r\n      buttonText=\"Сохранить\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <fieldset className=\"popup__inputs\">\r\n        <input\r\n          id=\"name-input\"\r\n          type=\"text\"\r\n          className=\"popup__input popup__item_name\"\r\n          name=\"name\"\r\n          placeholder=\"Имя\"\r\n          required\r\n          minLength=\"2\"\r\n          maxLength=\"40\"\r\n          value={name}\r\n          onChange={(e) => setName(e.target.value)}\r\n        />\r\n        <span id=\"name-input-error\" className=\"popup__error\" />\r\n        <input\r\n          id=\"about-me-input\"\r\n          type=\"text\"\r\n          className=\"popup__input popup__item_about-me\"\r\n          name=\"aboutMe\"\r\n          placeholder=\"О себе\"\r\n          required\r\n          minLength=\"2\"\r\n          maxLength=\"200\"\r\n          value={description}\r\n          onChange={(e) => setDescription(e.target.value)}\r\n        />\r\n        <span id=\"about-me-input-error\" className=\"popup__error\" />\r\n      </fieldset>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import React, { useRef } from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditProfilePopup({ isOpen, onClose, onUpdateAvatar }) {\r\n  const avatarRef = useRef(\"\");\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onUpdateAvatar({\r\n      avatar: avatarRef.current.value,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"avatar\"\r\n      title=\"Обновить аватар\"\r\n      buttonText=\"Сохранить\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <fieldset className=\"popup__inputs\">\r\n        <input\r\n          ref={avatarRef}\r\n          id=\"link-input\"\r\n          type=\"url\"\r\n          className=\"popup__input popup__item_link\"\r\n          name=\"link\"\r\n          placeholder=\"Ссылка на аватар\"\r\n          required\r\n        />\r\n        <span id=\"link-input-error\" className=\"popup__error\" />\r\n      </fieldset>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace }) {\r\n  const textRef = React.useRef(\"\");\r\n  const linkRef = React.useRef(\"\");\r\n\r\n  function handleAddPlaceSubmit(e) {\r\n    e.preventDefault();\r\n    onAddPlace({\r\n      name: textRef.current.value,\r\n      link: linkRef.current.value,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"add-card\"\r\n      title=\"Новое место\"\r\n      buttonText=\"Создать\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleAddPlaceSubmit}\r\n    >\r\n      <fieldset className=\"popup__inputs\">\r\n        <input\r\n          ref={textRef}\r\n          id=\"title-input\"\r\n          type=\"text\"\r\n          className=\"popup__input popup__item_name\"\r\n          name=\"name\"\r\n          placeholder=\"Название\"\r\n          required\r\n          minLength=\"1\"\r\n          maxLength=\"30\"\r\n        />\r\n        <span id=\"title-input-error\" className=\"popup__error\" />\r\n        <input\r\n          ref={linkRef}\r\n          id=\"link-input\"\r\n          type=\"url\"\r\n          className=\"popup__input popup__item_link\"\r\n          name=\"link\"\r\n          placeholder=\"Ссылка на картинку\"\r\n          required\r\n        />\r\n        <span id=\"link-input-error\" className=\"popup__error\" />\r\n      </fieldset>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Header from \"./Header\";\r\nimport Main from \"./Main\";\r\nimport Footer from \"./Footer\";\r\nimport PopupWithImage from \"./PopupWithImage\";\r\nimport api from \"../utils/api\";\r\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\r\nimport EditProfilePopup from \"./EditProfilePopup\";\r\nimport EditAvatarPopup from \"./EditAvatarPopup\";\r\nimport AddPlacePopup from \"./AddPlacePopup\";\r\n\r\nfunction App() {\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\r\n  const [selectedCard, setSelectedCard] = useState({});\r\n  const [cards, setCards] = useState([]);\r\n  const [currentUser, setCurrentUser] = useState({\r\n    name: \"\",\r\n    about: \"\",\r\n  });\r\n\r\n  function handleEditProfileClick() {\r\n    setIsEditProfilePopupOpen(true);\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(true);\r\n  }\r\n\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsEditAvatarPopupOpen(false);\r\n    setSelectedCard({});\r\n  }\r\n\r\n  function handleCardClick(card) {\r\n    setSelectedCard(card);\r\n  }\r\n\r\n  function handleUpdateUser(newUser) {\r\n    api\r\n      .setUserInfo(newUser)\r\n      .then((user) => {\r\n        setCurrentUser(user);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  function handleUpdateAvatar(avatar) {\r\n    api\r\n      .setUserAvatar(avatar)\r\n      .then((user) => {\r\n        setCurrentUser(user);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  function handleAddPlace(place) {\r\n    api\r\n      .setPlace(place)\r\n      .then((newCard) => {\r\n        setCards([...cards, newCard]);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n\r\n    api\r\n      .toggleLike(card._id, isLiked)\r\n      .then((newCard) => {\r\n        const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\r\n        setCards(newCards);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  function handleCardDelete(card) {\r\n    api\r\n      .deleteItem(card._id)\r\n      .then(() => {\r\n        const newCards = cards.filter((e) => e._id !== card._id);\r\n        setCards(newCards);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  useEffect(() => {\r\n    Promise.all([api.getUserInfo(), api.getItems()])\r\n      .then(([user, items]) => {\r\n        setCurrentUser(user);\r\n        setCards(items);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }, []);\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"page\">\r\n        <div className=\"container\">\r\n          <Header />\r\n          <Main\r\n            onEditProfile={handleEditProfileClick}\r\n            onAddPlace={handleAddPlaceClick}\r\n            onEditAvatar={handleEditAvatarClick}\r\n            onCardClick={handleCardClick}\r\n            cards={cards}\r\n            onCardLike={handleCardLike}\r\n            onCardDelete={handleCardDelete}\r\n          />\r\n          <Footer />\r\n        </div>\r\n        <EditProfilePopup\r\n          isOpen={isEditProfilePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateUser={handleUpdateUser}\r\n        />\r\n        <EditAvatarPopup\r\n          isOpen={isEditAvatarPopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateAvatar={handleUpdateAvatar}\r\n        />\r\n        <AddPlacePopup\r\n          isOpen={isAddPlacePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onAddPlace={handleAddPlace}\r\n        />\r\n\r\n        <PopupWithImage card={selectedCard} onClose={closeAllPopups} />\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}